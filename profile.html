<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sweet Secrets Members Club – Meu Perfil</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;700&family=Georgia&display=swap" rel="stylesheet" />
  <style>
    /* ===================================
       1) RESET E BASE
    =================================== */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    html, body {
      height: 100%;
      background: #0a0a0a;
      color: #f5f5f5;
      font-family: 'Arial', sans-serif;
      line-height: 1.6;
      overflow-x: hidden;
    }
    
    /* Background animado */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(255, 255, 255, 0.03) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 0.01) 0%, transparent 70%);
      animation: breathe 20s ease-in-out infinite;
      z-index: -1;
      pointer-events: none;
    }
    
    @keyframes breathe {
      0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.8; }
      50% { transform: scale(1.1) rotate(5deg); opacity: 1; }
    }
    
    a, button {
      text-decoration: none;
      outline: none;
      border: none;
      background: none;
      cursor: pointer;
    }

    /* ===================================
       2) HEADER
    =================================== */
    header {
      position: sticky;
      top: 0;
      width: 100%;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 1000;
      transition: all 0.3s ease;
    }
    
    header::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(137, 21, 34, 0.5), transparent);
      animation: shimmer 3s ease-in-out infinite;
    }
    
    @keyframes shimmer {
      0%, 100% { opacity: 0.3; transform: translateX(-100%); }
      50% { opacity: 1; transform: translateX(100%); }
    }
    
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 32px;
    }
    
    .header-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 24px 0;
    }
    
    .logo {
      font-family: 'Montserrat', sans-serif;
      font-size: 32px;
      font-weight: 700;
      color: #ffffff;
      letter-spacing: 3px;
      text-transform: uppercase;
      transition: all 0.3s ease;
      text-shadow: 0 2px 10px rgba(255, 255, 255, 0.1);
    }
    
    .logo:hover {
      transform: translateY(-2px);
      text-shadow: 0 4px 20px rgba(255, 255, 255, 0.2);
    }
    
    .user-menu {
      display: flex;
      gap: 32px;
      align-items: center;
      position: relative;
    }
    
    .user-menu a {
      color: #cccccc;
      font-size: 14px;
      font-weight: 300;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .user-menu a::after {
      content: '';
      position: absolute;
      bottom: -4px;
      left: 0;
      width: 0;
      height: 1px;
      background: #ffffff;
      transition: width 0.3s ease;
    }
    
    .user-menu a:hover {
      color: #ffffff;
    }
    
    .user-menu a:hover::after {
      width: 100%;
    }
    
    /* Notification Badge */
    .notif-badge {
      background: #c12839;
      color: #ffffff;
      font-size: 10px;
      padding: 2px 6px;
      border-radius: 10px;
      margin-left: 4px;
      font-weight: 600;
      animation: pulse 2s infinite;
      box-shadow: 0 0 10px rgba(193, 40, 57, 0.5);
    }
    
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    /* ===================================
       3) MAIN LAYOUT
    =================================== */
    main {
      padding: 80px 32px 32px;
      max-width: 1400px;
      margin: 0 auto;
      animation: fadeInUp 0.8s ease-out;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    .profile-content {
      display: grid;
      grid-template-columns: 1fr 360px;
      gap: 48px;
    }
    
    .profile-main { 
      display: flex; 
      flex-direction: column; 
      gap: 32px; 
    }

    /* ===================================
       4) PROFILE CARDS
    =================================== */
    /* Profile Cards Base */
    .profile-card {
      background: rgba(255, 255, 255, 0.02);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      padding: 40px 32px;
      border-radius: 12px;
      position: relative;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .profile-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 3px;
      height: 100%;
      background: linear-gradient(to bottom, transparent, #ffffff, transparent);
      transform: scaleY(0);
      transition: transform 0.4s ease;
      z-index: 1;
    }
    
    .profile-card:hover::before {
      transform: scaleY(1);
    }
    
    .card-title {
      font-family: 'Georgia', serif;
      font-size: 20px;
      font-weight: 400;
      color: #ffffff;
      text-transform: uppercase;
      letter-spacing: 3px;
      margin-bottom: 32px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 16px;
      position: relative;
      z-index: 2;
    }
    
    .profile-basic {
      display: flex;
      gap: 32px;
      align-items: flex-start;
    }
    
    .profile-avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 3px solid rgba(255, 255, 255, 0.2);
      overflow: hidden;
      position: relative;
      transition: all 0.3s ease;
    }
    
    .profile-avatar:hover {
      border-color: #891522;
      transform: scale(1.05);
    }
    
    .profile-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: grayscale(20%);
      transition: filter 0.3s ease;
    }
    
    .profile-avatar:hover img {
      filter: grayscale(0%);
    }
    
    .profile-info {
      flex: 1;
    }
    
    .profile-name {
      font-family: 'Georgia', serif;
      font-size: 28px;
      font-weight: 400;
      margin-bottom: 8px;
      color: #ffffff;
    }
    
    .profile-role {
      font-size: 16px;
      font-weight: 500;
      color: #c66970;
      margin-bottom: 6px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .profile-company {
      font-size: 16px;
      color: #cccccc;
      margin-bottom: 24px;
    }
    
    .level-label {
      font-size: 14px;
      color: #f4e5cf;
      margin-bottom: 12px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .level-label::before {
      content: '🔑 ';
    }
    
    .dual-progress-bars {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }
    
    .progress-label {
      font-size: 13px;
      color: #f4e5cf;
    }
    
    .progress-bar-container {
      background: rgba(255, 255, 255, 0.1);
      border-radius: 4px;
      overflow: hidden;
      height: 12px;
    }
    
    .progress-bar-fill {
      background: linear-gradient(90deg, #891522, #c66970);
      height: 100%;
      transition: width 0.4s ease;
    }
    
    /* Toggle Switch Styles */
    .toggle-container {
      margin-top: 16px;
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .toggle-label {
      font-size: 13px;
      color: #f4e5cf;
    }
    
    .toggle-switch {
      position: relative;
      width: 50px;
      height: 24px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      cursor: pointer;
      transition: background 0.3s ease;
    }
    
    .toggle-switch.active {
      background: #7fada3;
    }
    
    .toggle-slider {
      position: absolute;
      top: 2px;
      left: 2px;
      width: 20px;
      height: 20px;
      background: #fff;
      border-radius: 50%;
      transition: transform 0.3s ease;
    }
    
    .toggle-switch.active .toggle-slider {
      transform: translateX(26px);
    }
    
    .btn-edit-toggle {
      margin-top: 24px;
      color: #ffffff;
      text-transform: uppercase;
      font-size: 12px;
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 8px;
      padding: 12px 24px;
      transition: all 0.3s ease;
      letter-spacing: 1px;
    }
    
    .btn-edit-toggle:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }

    /* ===================================
       5) EDIT FORM
    =================================== */
    .edit-form {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 24px;
      margin-top: 32px;
    }
    
    .form-group {
      display: flex;
      flex-direction: column;
    }
    
    .form-group.full-width {
      grid-column: 1 / -1;
    }
    
    .form-label {
      font-size: 13px;
      color: #f4e5cf;
      margin-bottom: 8px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .form-input, .form-textarea, .form-select {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 8px;
      padding: 12px 16px;
      color: #f5f5f5;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    
    .form-input:focus, .form-textarea:focus, .form-select:focus {
      outline: none;
      border-color: #c66970;
      background: rgba(255, 255, 255, 0.08);
      box-shadow: 0 0 0 3px rgba(198, 105, 112, 0.2);
    }
    
    .form-textarea {
      resize: vertical;
      min-height: 100px;
    }
    
    .form-select {
      background: rgba(255, 255, 255, 0.05);
      cursor: pointer;
    }
    
    .form-select option {
      background: #1a1a1a;
      color: #f5f5f5;
    }
    
    .form-actions {
      grid-column: 1 / -1;
      display: flex;
      gap: 16px;
      margin-top: 16px;
    }
    
    .btn-save, .btn-cancel {
      padding: 12px 24px;
      border-radius: 8px;
      text-transform: uppercase;
      font-size: 12px;
      letter-spacing: 1px;
      transition: all 0.3s ease;
    }
    
    .btn-save {
      background: #891522;
      color: #ffffff;
      border: 1px solid #891522;
      font-weight: 600;
    }
    
    .btn-save:hover {
      background: #a51623;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(137, 21, 34, 0.4);
    }
    
    .btn-cancel {
      background: transparent;
      color: #999;
      border: 1px solid rgba(255, 255, 255, 0.2);
    }
    
    .btn-cancel:hover {
      color: #f5f5f5;
      border-color: rgba(255, 255, 255, 0.3);
    }

    /* ===================================
       6) PROFILE DETAILS BADGES
    =================================== */
    .profile-details {
      display: flex;
      gap: 16px;
      margin-top: 16px;
      flex-wrap: wrap;
    }
    
    .profile-detail-item {
      display: flex;
      align-items: center;
      gap: 6px;
      background: rgba(255, 255, 255, 0.05);
      padding: 8px 12px;
      border-radius: 20px;
      font-size: 12px;
      color: #f4e5cf;
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    
    .profile-detail-item:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: translateY(-2px);
    }
    
    .profile-detail-item .icon {
      font-size: 14px;
    }

    /* ===================================
       7) BALANCE INFO
    =================================== */
    .balance-info {
      background: linear-gradient(135deg, rgba(127, 173, 163, 0.1) 0%, rgba(127, 173, 163, 0.05) 100%);
      border: 1px solid rgba(127, 173, 163, 0.3);
      border-radius: 12px;
      padding: 20px;
      margin-top: 16px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 4px 15px rgba(127, 173, 163, 0.1);
    }
    
    .balance-content {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    
    .balance-label {
      font-size: 14px;
      color: #f4e5cf;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .balance-value {
      font-family: 'Georgia', serif;
      font-size: 24px;
      color: #7fada3;
      font-weight: 500;
    }
    
    .balance-value::before {
      content: 'R$ ';
      font-size: 16px;
    }
    
    .btn-view-consumption {
      background: #7fada3;
      color: #000000;
      padding: 10px 20px;
      border-radius: 8px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      font-weight: 600;
    }
    
    .btn-view-consumption:hover {
      background: #8fbdad;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(127, 173, 163, 0.3);
    }

    /* ===================================
       8) BENEFITS CARDS
    =================================== */
    .benefits-card {
      background: rgba(255, 255, 255, 0.02);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      padding: 32px;
      position: relative;
      overflow: hidden;
      margin-bottom: 24px;
    }
    
    .benefits-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, transparent, #891522, transparent);
      animation: shimmer 3s ease-in-out infinite;
    }
    
    .benefits-card.exclusive {
      background: linear-gradient(135deg, rgba(137, 21, 34, 0.1) 0%, rgba(137, 21, 34, 0.05) 100%);
      border: 1px solid rgba(137, 21, 34, 0.3);
      box-shadow: 0 8px 32px rgba(137, 21, 34, 0.15);
    }
    
    .benefits-card.exclusive::before {
      background: linear-gradient(90deg, #891522, #c66970, #891522);
      height: 4px;
    }
    
    .benefits-title {
      font-family: 'Georgia', serif;
      font-size: 18px;
      color: #f5f5f5;
      margin-bottom: 24px;
      display: flex;
      align-items: center;
      gap: 12px;
      text-transform: uppercase;
      letter-spacing: 2px;
    }
    
    .benefits-card.exclusive .benefits-title {
      color: #f4e5cf;
      font-size: 20px;
      text-shadow: 0 2px 4px rgba(137, 21, 34, 0.3);
    }
    
    .benefits-title::before {
      content: '✨';
      font-size: 24px;
    }
    
    .benefits-card.exclusive .benefits-title::before {
      content: '👑';
      font-size: 28px;
    }
    
    .benefit-item {
      margin-bottom: 20px;
      padding: 16px;
      background: rgba(255, 255, 255, 0.02);
      border-radius: 8px;
      border-left: 3px solid rgba(255, 255, 255, 0.2);
      transition: all 0.3s ease;
    }
    
    .benefits-card.exclusive .benefit-item {
      background: rgba(244, 228, 193, 0.05);
      border-left: 3px solid #891522;
    }
    
    .benefit-item:hover {
      transform: translateX(4px);
      background: rgba(255, 255, 255, 0.05);
    }
    
    .benefit-name {
      font-size: 15px;
      color: #f4e5cf;
      font-weight: 500;
      margin-bottom: 4px;
    }
    
    .benefits-card.exclusive .benefit-name {
      color: #f4e5cf;
      font-weight: 600;
    }
    
    .benefit-desc {
      font-size: 14px;
      color: #cccccc;
      line-height: 1.5;
    }
    
    .benefits-card.exclusive .benefit-desc {
      color: #f4e5cf;
    }

    /* ===================================
       9) EVENT CARDS
    =================================== */
    .event-card {
      background: #891522;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(137, 21, 34, 0.3);
      border-radius: 12px;
      padding: 20px 24px;
      padding-top: 60px; /* Espaço para o badge */
      margin-bottom: 20px;
      box-shadow: 0 4px 15px rgba(137, 21, 34, 0.3);
      position: relative;
      min-height: 140px;
      transition: all 0.3s ease;
      overflow: visible;
    }
    
    .event-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 3px;
      height: 100%;
      background: linear-gradient(to bottom, transparent, #c66970, transparent);
      transform: scaleY(0);
      transition: transform 0.3s ease;
    }
    
    .event-card:hover {
      background: #a51623;
      transform: translateX(4px);
      box-shadow: 0 8px 25px rgba(137, 21, 34, 0.4);
    }
    
    .event-card:hover::before {
      transform: scaleY(1);
    }
    
    /* Event Cards com Restrição de Nível */
    .event-card.restricted {
      opacity: 0.6;
      background: #003b56;
      cursor: not-allowed;
      box-shadow: none;
    }
    
    .event-card.restricted:hover {
      transform: none;
      box-shadow: none;
      background: #003b56;
    }
    
    /* Ícone de cadeado para eventos restritos */
    .event-lock {
      position: absolute;
      top: 20px;
      right: 24px;
      width: 28px;
      height: 28px;
      background: rgba(255, 255, 255, 0.1);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 14px;
      z-index: 10;
      cursor: help;
      transition: all 0.3s ease;
    }
    
    .event-lock:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: scale(1.1);
    }
    
    /* Tooltip para eventos restritos */
    .event-tooltip {
      position: absolute;
      bottom: 100%;
      right: 0;
      background: rgba(0, 0, 0, 0.95);
      color: white;
      padding: 10px 16px;
      border-radius: 8px;
      font-size: 12px;
      white-space: nowrap;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 20;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.4);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      margin-bottom: 5px;
    }
    
    .event-tooltip::after {
      content: '';
      position: absolute;
      top: 100%;
      right: 14px;
      border: 6px solid transparent;
      border-top-color: rgba(0, 0, 0, 0.95);
    }
    
    .event-lock:hover .event-tooltip {
      opacity: 1;
      visibility: visible;
      transform: translateY(-5px);
    }
    
    /* Event Type Badge */
    .event-type-badge {
      position: absolute;
      top: 16px;
      left: 20px;
      background: rgba(244, 229, 207, 0.2);
      color: #f4e5cf;
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      border: 1px solid rgba(244, 229, 207, 0.3);
      backdrop-filter: blur(10px);
      z-index: 5;
    }
    
    /* Event status colors for past events - ajustado */
    .event-card.attended {
      border-left: 6px solid #7fada3;
      padding-left: 18px; /* Reduzido para compensar a borda */
    }
    
    .event-card.no-show {
      border-left: 6px solid #b6753c;
      padding-left: 18px; /* Reduzido para compensar a borda */
    }
    
    .event-card.cancelled {
      border-left: 6px solid #c12839;
      padding-left: 18px; /* Reduzido para compensar a borda */
    }
    
    /* Event countdown badge */
    .event-countdown {
      position: absolute;
      top: 16px;
      right: 20px;
      background: rgba(244, 229, 207, 0.9);
      color: #000000;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 5px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      box-shadow: 0 2px 8px rgba(244, 229, 207, 0.3);
      z-index: 5;
    }
    
    .event-countdown::before {
      content: '⏰';
      font-size: 13px;
    }
    
    /* Event info container com melhor espaçamento */
    .event-info {
      margin-bottom: 16px;
      position: relative;
      z-index: 2;
    }
    
    .event-card .event-title {
      font-size: 18px;
      font-weight: 600;
      margin-bottom: 6px;
      color: #ffffff;
      font-family: 'Georgia', serif;
      line-height: 1.3;
    }
    
    .event-card .event-date {
      font-size: 13px;
      color: #f4e5cf;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 4px;
    }
    
    .event-card .event-location {
      font-size: 14px;
      color: #e1f5fe;
    }
    
    .event-actions {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: flex-end;
      margin-top: 16px;
    }
    
    .btn-cancel-event, .btn-view-more, .btn-members, .btn-view-agenda {
      color: white;
      padding: 10px 18px;
      border-radius: 6px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 1px;
      transition: all 0.3s ease;
      white-space: nowrap;
      border: 1px solid transparent;
    }
    
    .btn-view-more {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    .btn-view-more:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-2px);
    }
    
    .btn-members {
      background: #f4e5cf;
      color: #891522;
      border: 1px solid #f4e5cf;
      font-weight: 600;
      cursor: pointer;
    }
    
    .btn-members:hover {
      background: #ffffff;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(244, 229, 207, 0.4);
    }
    
    .btn-view-agenda {
      background: #891522;
      color: #ffffff;
      border: 1px solid #891522;
      font-weight: 600;
    }
    
    .btn-view-agenda:hover {
      background: #a51623;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(137, 21, 34, 0.4);
    }
    
    .btn-cancel-event {
      background: #c12839;
      border: 1px solid #c12839;
    }
    
    .btn-cancel-event:hover {
      background: #e13449;
      transform: translateY(-1px);
    }
    
    .btn-cancel-event:disabled {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.2);
      color: #666666;
      cursor: not-allowed;
      opacity: 0.6;
    }

    /* ===================================
       10) EVENT STATUS LEGEND
    =================================== */
    .event-status-legend {
      display: flex;
      gap: 24px;
      margin-bottom: 20px;
      font-size: 13px;
      color: #f4e5cf;
      flex-wrap: wrap;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .legend-indicator {
      width: 20px;
      height: 4px;
      border-radius: 2px;
    }
    
    .legend-indicator.attended {
      background: #7fada3;
    }
    
    .legend-indicator.no-show {
      background: #b6753c;
    }
    
    .legend-indicator.cancelled {
      background: #c12839;
    }

    /* ===================================
       11) NOTIFICATIONS DROPDOWN
    =================================== */
    .notifications-dropdown {
      position: absolute;
      top: 100%;
      right: 0;
      width: 350px;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(15px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
      z-index: 2000;
      display: none;
      max-height: 400px;
      overflow-y: auto;
    }
    
    .notifications-dropdown.active {
      display: block;
    }
    
    .notifications-header {
      padding: 20px 24px 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      font-family: 'Georgia', serif;
      font-size: 16px;
      color: #f5f5f5;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    
    .notification-item {
      padding: 16px 24px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
      transition: background 0.3s ease;
      cursor: pointer;
    }
    
    .notification-item:hover {
      background: rgba(255, 255, 255, 0.05);
    }
    
    .notification-item:last-child {
      border-bottom: none;
    }
    
    .notification-content {
      font-size: 14px;
      color: #f5f5f5;
      line-height: 1.5;
      margin-bottom: 4px;
    }
    
    .notification-time {
      font-size: 12px;
      color: #999;
    }
    
    .notification-icon {
      display: inline-block;
      margin-right: 8px;
    }
    
    .notification-urgent {
      border-left: 3px solid #c12839;
    }
    
    .notification-warning {
      border-left: 3px solid #b6753c;
    }
    
    .notification-info {
      border-left: 3px solid #891522;
    }

    /* ===================================
       12) MODALS
    =================================== */
    /* Modals com animação de entrada */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.95);
      backdrop-filter: blur(20px);
      z-index: 3000;
      display: none;
      align-items: center;
      justify-content: center;
      animation: fadeIn 0.3s ease-out;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal-overlay.active {
      display: flex;
    }
    
    .modal-content {
      background: rgba(20, 20, 20, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 16px;
      max-width: 600px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
      animation: slideUp 0.3s ease-out;
    }
    
    @keyframes slideUp {
      from {
        transform: translateY(20px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }
    
    @keyframes slideUpToast {
      from {
        transform: translate(-50%, 20px);
        opacity: 0;
      }
      to {
        transform: translate(-50%, 0);
        opacity: 1;
      }
    }
    
    @keyframes fadeOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    
    .modal-content::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, rgba(137, 21, 34, 0.5), transparent);
    }
    
    .modal-header {
      padding: 24px 32px 16px;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .modal-title {
      font-family: 'Georgia', serif;
      font-size: 20px;
      color: #f5f5f5;
    }
    
    .modal-close {
      background: none;
      border: none;
      color: #999;
      font-size: 24px;
      cursor: pointer;
      padding: 0;
      line-height: 1;
      transition: color 0.3s ease;
    }
    
    .modal-close:hover {
      color: #f5f5f5;
    }
    
    .modal-body {
      padding: 24px 32px 32px;
    }
    
    .event-details {
      color: #cccccc;
      line-height: 1.6;
    }
    
    .event-details h3 {
      color: #f5f5f5;
      margin-bottom: 12px;
      font-family: 'Georgia', serif;
    }
    
    .event-details p {
      margin-bottom: 16px;
    }
    
    .members-list {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 16px;
      margin-top: 20px;
    }
    
    @media (max-width: 640px) {
      .members-list {
        grid-template-columns: 1fr;
      }
    }
    
    .member-item {
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      padding: 16px;
      display: flex;
      align-items: center;
      gap: 12px;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .member-item:hover {
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-2px);
      border-color: rgba(255, 255, 255, 0.2);
    }
    
    .member-item.member-self {
      background: rgba(127, 173, 163, 0.05);
      border-color: rgba(127, 173, 163, 0.2);
    }
    
    .member-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      overflow: hidden;
      flex-shrink: 0;
    }
    
    .member-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .member-info {
      flex: 1;
      min-width: 0;
    }
    
    .member-name {
      font-size: 15px;
      font-weight: 600;
      color: #f5f5f5;
      margin-bottom: 2px;
    }
    
    .member-role {
      font-size: 12px;
      color: #c66970;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .member-contact-btn {
      background: transparent;
      border: 1px solid rgba(255, 255, 255, 0.3);
      color: #ffffff;
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      transition: all 0.3s ease;
      cursor: pointer;
      white-space: nowrap;
      flex-shrink: 0;
    }
    
    .member-contact-btn:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(255, 255, 255, 0.5);
      transform: translateY(-1px);
    }
    
    .member-contact-btn.sent {
      background: rgba(127, 173, 163, 0.2);
      border-color: #7fada3;
      color: #7fada3;
      cursor: default;
    }
    
    .member-contact-btn.sent:hover {
      transform: none;
    }

    /* ===================================
       13) WHATSAPP BUTTON
    =================================== */
    .whatsapp-btn {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 60px;
      height: 60px;
      background: #25D366;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 20px rgba(37, 211, 102, 0.3);
      transition: all 0.3s ease;
      z-index: 1000;
      text-decoration: none;
    }
    
    .whatsapp-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.4);
    }
    
    .whatsapp-btn svg {
      width: 32px;
      height: 32px;
      fill: white;
    }

    /* ===================================
       14) RESPONSIVIDADE
    =================================== */
    @media (max-width: 1024px) {
      .profile-content {
        grid-template-columns: 1fr;
      }
      
      .edit-form {
        grid-template-columns: 1fr;
      }
      
      .event-card {
        padding: 20px;
        padding-top: 60px;
        min-height: auto;
      }
      
      .event-actions {
        justify-content: flex-start;
        flex-wrap: wrap;
        margin-top: 12px;
      }
      
      .event-countdown {
        top: 12px;
        right: 16px;
        padding: 4px 10px;
        font-size: 10px;
      }
      
      .event-type-badge {
        top: 12px;
        left: 16px;
        padding: 4px 12px;
        font-size: 10px;
      }
      
      .balance-info {
        flex-direction: column;
        gap: 16px;
        align-items: flex-start;
      }
    }
    
    @media (max-width: 768px) {
      .container {
        padding: 0 16px;
      }
      
      .logo {
        font-size: 24px;
      }
      
      .user-menu {
        gap: 16px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <div class="header-content">
        <h1 class="logo">Sweet Secrets</h1>
        <nav class="user-menu">
          <a href="index.html">Página Inicial</a>
          <a href="#" id="notifBtn" onclick="toggleNotifications()">
            Notificações 
            <span class="notif-badge" id="notifCount" style="display: none;">0</span>
          </a>
          <a href="#" id="btnLogout">Sair</a>
          
          <!-- Notifications Dropdown -->
          <div class="notifications-dropdown" id="notificationsDropdown">
            <div class="notifications-header">Notificações</div>
            <div id="notificationsContent">
              <!-- Notificações serão carregadas dinamicamente -->
            </div>
          </div>
        </nav>
      </div>
    </div>
  </header>
  <main>
    <div class="profile-content">
      <div class="profile-main">
        <div class="profile-card">
          <div class="card-title">Meu Perfil</div>
          <div class="profile-basic">
            <div class="profile-avatar">
              <img src="https://i.pravatar.cc/150?img=32" alt="Avatar" />
            </div>
            <div class="profile-info">
              <h2 class="profile-name">António Silva</h2>
              <div class="profile-role">Head of Latin America</div>
              <div class="profile-company">Entain Group</div>
              <div class="level-label">Silver Key Member</div>
              <div class="dual-progress-bars">
                <div>
                  <div class="progress-label">Faltam 2 eventos para Gold</div>
                  <div class="progress-bar-container">
                    <div class="progress-bar-fill" style="width: 80%;"></div>
                  </div>
                </div>
                <div>
                  <div class="progress-label">Faltam 5 visitas para Gold</div>
                  <div class="progress-bar-container">
                    <div class="progress-bar-fill" style="width: 60%;"></div>
                  </div>
                </div>
              </div>
              <div class="toggle-container">
                <span class="toggle-label">Perfil visível para outros membros</span>
                <div class="toggle-switch active" onclick="toggleVisibility(this)">
                  <div class="toggle-slider"></div>
                </div>
              </div>
              
              <!-- Profile Details with Icons -->
              <div class="profile-details">
                <div class="profile-detail-item">
                  <span class="icon">🥃</span>
                  <span>Whisky</span>
                </div>
                <div class="profile-detail-item">
                  <span class="icon">🚫</span>
                  <span>Lactose</span>
                </div>
                <div class="profile-detail-item">
                  <span class="icon">🎂</span>
                  <span>15 de Março</span>
                </div>
                <div class="profile-detail-item">
                  <span class="icon">🍷</span>
                  <span>Bebe socialmente</span>
                </div>
              </div>
              
              <div class="balance-info">
                <div class="balance-content">
                  <div class="balance-label">Saldo Disponível</div>
                  <div class="balance-value">2.450,00</div>
                </div>
                <button class="btn-view-consumption" onclick="viewConsumption()">Ver Meu Consumo</button>
              </div>
              
              <button class="btn-edit-toggle" onclick="toggleEdit()">Editar Perfil</button>
            </div>
          </div>
        </div>
        
        <div class="profile-card" id="editForm" style="display:none;">
          <div class="card-title">Editar Perfil</div>
          <div class="edit-form">
            <div class="form-group">
              <label class="form-label">Nome Completo</label>
              <input type="text" class="form-input" value="António Silva" />
            </div>
            <div class="form-group">
              <label class="form-label">Cargo</label>
              <input type="text" class="form-input" value="Head of Latin America" />
            </div>
            <div class="form-group">
              <label class="form-label">Empresa</label>
              <input type="text" class="form-input" value="Entain Group" />
            </div>
            <div class="form-group">
              <label class="form-label">Indústria</label>
              <input type="text" class="form-input" value="Gaming & Entertainment" />
            </div>
            <div class="form-group">
              <label class="form-label">LinkedIn</label>
              <input type="url" class="form-input" placeholder="https://linkedin.com/in/..." />
            </div>
            <div class="form-group">
              <label class="form-label">Site da Empresa</label>
              <input type="url" class="form-input" placeholder="https://..." />
            </div>
            <div class="form-group">
              <label class="form-label">Aniversário</label>
              <input type="date" class="form-input" />
            </div>
            <div class="form-group">
              <label class="form-label">Bebida Alcoólica</label>
              <select class="form-select">
                <option value="">Selecione</option>
                <option value="sim">Sim</option>
                <option value="nao">Não</option>
                <option value="ocasionalmente">Ocasionalmente</option>
              </select>
            </div>
            <div class="form-group">
              <label class="form-label">Destilado Favorito</label>
              <select class="form-select">
                <option value="">Selecione</option>
                <option value="whisky">Whisky</option>
                <option value="vodka">Vodka</option>
                <option value="gin">Gin</option>
                <option value="rum">Rum</option>
                <option value="tequila">Tequila</option>
                <option value="cachaca">Cachaça</option>
                <option value="conhaque">Conhaque</option>
                <option value="brandy">Brandy</option>
                <option value="nenhum">Nenhum</option>
              </select>
            </div>
            <div class="form-group full-width">
              <label class="form-label">Intolerâncias Alimentares</label>
              <input type="text" class="form-input" placeholder="Ex: Lactose, Glúten, Amendoim, Frutos do Mar..." />
            </div>
            <div class="form-group full-width">
              <label class="form-label">Interesses</label>
              <input type="text" class="form-input" placeholder="Tecnologia, Investimentos, Esportes..." />
            </div>
            <div class="form-group full-width">
              <label class="form-label">Biografia</label>
              <textarea class="form-textarea" placeholder="Conte um pouco sobre você e sua experiência profissional..."></textarea>
            </div>
            <div class="form-actions">
              <button class="btn-save" onclick="saveProfile()">Salvar Alterações</button>
              <button class="btn-cancel" onclick="toggleEdit()">Cancelar</button>
            </div>
          </div>
        </div>
        
        <div class="profile-card">
          <div class="card-title">Próximos Eventos</div>
          <div id="upcomingEventsContainer">
            <!-- Eventos serão carregados dinamicamente -->
          </div>
          <div style="text-align: center; margin-top: 32px; padding-top: 16px; border-top: 1px solid rgba(255, 255, 255, 0.1);">
            <button class="btn-view-agenda" onclick="viewEventCalendar()">Consultar Agenda de Eventos</button>
          </div>
        </div>
        
        <div class="profile-card">
          <div class="card-title">Eventos Passados</div>
          <div class="event-status-legend">
            <div class="legend-item">
              <div class="legend-indicator attended"></div>
              <span>Estive Presente</span>
            </div>
            <div class="legend-item">
              <div class="legend-indicator no-show"></div>
              <span>Faltei</span>
            </div>
            <div class="legend-item">
              <div class="legend-indicator cancelled"></div>
              <span>Cancelei</span>
            </div>
          </div>
          <div class="event-card attended">
            <div class="event-type-badge">Sweet Talks</div>
            <div class="event-info">
              <div class="event-title">Workshop de Investimentos</div>
              <div class="event-date">10 ABR 2025</div>
              <div class="event-location">Sala VIP</div>
            </div>
            <div class="event-actions">
              <button class="btn-members" onclick="viewEventMembers('investment-workshop')">Lista de Membros</button>
            </div>
          </div>
          <div class="event-card no-show">
            <div class="event-type-badge">Happy Hour</div>
            <div class="event-info">
              <div class="event-title">Networking Breakfast</div>
              <div class="event-date">28 MAR 2025</div>
              <div class="event-location">Sweet Secrets Lounge</div>
            </div>
            <div class="event-actions">
              <button class="btn-members" onclick="viewEventMembers('networking-breakfast')">Lista de Membros</button>
            </div>
          </div>
          <div class="event-card cancelled">
            <div class="event-type-badge">Evento Externo</div>
            <div class="event-info">
              <div class="event-title">Coquetel de Lançamento</div>
              <div class="event-date">15 JAN 2025</div>
              <div class="event-location">Sweet Secrets Club</div>
            </div>
            <div class="event-actions">
              <button class="btn-members" onclick="viewEventMembers('launch-cocktail')">Lista de Membros</button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="profile-sidebar">
        <div class="benefits-card">
          <div class="benefits-title">Benefícios da Membership</div>
          <div class="benefit-item">
            <div class="benefit-name">Acesso ao Diretório</div>
            <div class="benefit-desc">Conecte-se com todos os membros cadastrados da comunidade exclusiva.</div>
          </div>
          <div class="benefit-item">
            <div class="benefit-name">Eventos Gerais</div>
            <div class="benefit-desc">Participação em eventos abertos a todos os membros do clube.</div>
          </div>
        </div>
        
        <div class="benefits-card exclusive">
          <div class="benefits-title">Privilégios Exclusivos Silver</div>
          <div class="benefit-item">
            <div class="benefit-name">🥂 Acesso VIP Lounge</div>
            <div class="benefit-desc">Entrada livre com até 3 convidados no nosso lounge privativo com bar premium.</div>
          </div>
          <div class="benefit-item">
            <div class="benefit-name">🍽️ Jantares Executivos</div>
            <div class="benefit-desc">Convites exclusivos para jantares íntimos com líderes da indústria em restaurantes estrelados.</div>
          </div>
          <div class="benefit-item">
            <div class="benefit-name">💼 Networking Prioritário</div>
            <div class="benefit-desc">Acesso antecipado a eventos de networking com C-levels e investidores.</div>
          </div>
          <div class="benefit-item">
            <div class="benefit-name">🏆 Concierge Premium</div>
            <div class="benefit-desc">Serviço personalizado para reservas e experiências exclusivas na cidade.</div>
          </div>
        </div>
      </div>
    </div>
  </main>
  
  <!-- Modal for Event Details -->
  <div class="modal-overlay" id="eventModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="eventModalTitle">Detalhes do Evento</h2>
        <button class="modal-close" onclick="closeModal('eventModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="event-details" id="eventModalContent">
          <!-- Content will be loaded dynamically -->
        </div>
      </div>
    </div>
  </div>

  <!-- Modal for Event Members -->
  <div class="modal-overlay" id="membersModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="membersModalTitle">Membros do Evento</h2>
        <button class="modal-close" onclick="closeModal('membersModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div class="members-list" id="membersModalContent">
          <!-- Content will be loaded dynamically -->
        </div>
        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(255, 255, 255, 0.1); text-align: center;">
          <p style="font-size: 13px; color: #888; font-style: italic;">
            Conecte-se com outros participantes do evento para expandir sua rede de contatos
          </p>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Modal for Contact Request Confirmation -->
  <div class="modal-overlay" id="contactConfirmModal">
    <div class="modal-content" style="max-width: 400px;">
      <div class="modal-header">
        <h2 class="modal-title">Confirmar Solicitação</h2>
        <button class="modal-close" onclick="closeModal('contactConfirmModal')">&times;</button>
      </div>
      <div class="modal-body">
        <div style="text-align: center; padding: 20px 0;">
          <div style="font-size: 48px; margin-bottom: 20px;">🤝</div>
          <p style="font-size: 16px; color: #f5f5f5; margin-bottom: 24px;">
            Deseja enviar uma solicitação de contato para <strong id="contactTargetName"></strong>?
          </p>
          <p style="font-size: 14px; color: #888; margin-bottom: 32px;">
            O membro receberá uma notificação e poderá aceitar ou recusar sua solicitação.
          </p>
          <div style="display: flex; gap: 16px; justify-content: center;">
            <button class="btn-save" onclick="confirmContactRequest()">Enviar Solicitação</button>
            <button class="btn-cancel" onclick="closeModal('contactConfirmModal')">Cancelar</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- WhatsApp Button -->
  <a href="https://api.whatsapp.com/send/?phone=5511913079456" target="_blank" class="whatsapp-btn" title="Falar no WhatsApp">
    <svg viewBox="0 0 24 24">
      <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.525 3.488"/>
    </svg>
  </a>
  
  <script>
    // Estado da aplicação em memória (substitui localStorage)
    const appState = {
      currentMember: {
        id: 32, // ID do António Silva (img=32)
        name: 'António Silva',
        role: 'Head of Latin America',
        company: 'Entain Group',
        level: 'Silver Key Member',
        memberLevel: 'silver' // nível de acesso
      },
      registrations: [1, 2], // IDs dos eventos inscritos
      profileVisible: true,
      notifications: [
        {
          id: 1,
          type: 'reminder',
          icon: '🚨',
          content: 'O Evento é já amanhã!! - Jantar Executivo Tech Leaders',
          time: 'Há 2 horas',
          priority: 'urgent',
          read: false
        },
        {
          id: 2,
          type: 'event',
          icon: '⏰',
          content: 'Faltam 3 dias para o evento Summit da Indústria de Jogos',
          time: 'Há 4 horas',
          priority: 'warning',
          read: false
        },
        {
          id: 3,
          type: 'milestone',
          icon: '🏆',
          content: 'Já só falta 1 visita e 2 eventos para subir para Gold Key Member!',
          time: 'Há 1 dia',
          priority: 'info',
          read: false
        },
        {
          id: 4,
          type: 'birthday',
          icon: '🎂',
          content: 'Hoje é aniversário de Carla Mendes! Envie uma mensagem de parabéns.',
          time: 'Há 5 horas',
          priority: 'info',
          read: false
        },
        {
          id: 5,
          type: 'networking',
          icon: '🤝',
          content: 'Lucas Ferreira aceitou sua solicitação de conexão',
          time: 'Há 2 dias',
          priority: 'info',
          read: true
        }
      ],
      contactRequests: []
    };

    // Dados de eventos disponíveis
    const eventsData = [
      {
        id: 1,
        title: 'Finais NBA com a Hennessy',
        date: '2025-06-05',
        location: 'Exímia Bar',
        description: 'Venha assistir aos jogos finais da NBA acompanhado de degustação de Hennessy e entrada VIP no lounge Exímia Bar.',
        type: 'Evento_Externo',
        minLevel: 'bronze' // Todos podem participar
      },
      {
        id: 2,
        title: 'Jantar Especial Dia dos Namorados',
        date: '2025-06-12',
        location: 'Sweet Secrets Club',
        description: 'Celebre o Dia dos Namorados com um jantar romântico preparado pelo nosso chef.',
        type: 'Boardroom',
        minLevel: 'silver' // Apenas Silver ou superior
      },
      {
        id: 3,
        title: 'Petit Comitê CTOs',
        date: '2025-06-19',
        location: 'Sala VIP',
        description: 'Encontro exclusivo para CTOs de grandes empresas, com discussão sobre tendências tecnológicas emergentes.',
        type: 'Petit Comitê',
        minLevel: 'gold' // Apenas Gold ou superior
      },
      {
        id: 4,
        title: 'Cocktail Executivo by Inova.SAO',
        date: '2025-06-24',
        location: 'Morumbis',
        description: 'Coquetel para CEOs e executivos, apresentado por Inova.SAO.',
        type: 'Happy Hour',
        minLevel: 'platinum' // Apenas Platinum
      },
      {
        id: 5,
        title: 'Wine Tasting Especial',
        date: '2025-06-30',
        location: 'Sweet Secrets Wine Cellar',
        description: 'Degustação de vinhos raros com sommelier internacional.',
        type: 'Wine Club',
        minLevel: 'gold' // Gold ou superior
      }
    ];

    // Sistema de permissões por nível
    function getLevelHierarchy() {
      return {
        'bronze': 1,
        'silver': 2, 
        'gold': 3,
        'platinum': 4
      };
    }

    function canAccessEvent(userLevel, eventMinLevel) {
      const hierarchy = getLevelHierarchy();
      return hierarchy[userLevel] >= hierarchy[eventMinLevel];
    }

    function getLevelDisplayName(level) {
      const names = {
        'bronze': 'Bronze Key',
        'silver': 'Silver Key',
        'gold': 'Gold Key', 
        'platinum': 'Platinum Key'
      };
      return names[level] || level;
    }

    // Função para carregar notificações
    function loadNotifications() {
      const container = document.getElementById('notificationsContent');
      const badge = document.getElementById('notifCount');
      
      const unreadCount = appState.notifications.filter(n => !n.read).length;
      
      if (unreadCount > 0) {
        badge.textContent = unreadCount;
        badge.style.display = 'inline-block';
      } else {
        badge.style.display = 'none';
      }
      
      container.innerHTML = '';
      
      appState.notifications.forEach(notif => {
        const item = document.createElement('div');
        item.className = `notification-item notification-${notif.priority}`;
        item.innerHTML = `
          <div class="notification-content">
            <span class="notification-icon">${notif.icon}</span>
            ${notif.content}
          </div>
          <div class="notification-time">${notif.time}</div>
        `;
        item.onclick = () => markNotificationAsRead(notif.id);
        container.appendChild(item);
      });
    }

    // Marcar notificação como lida
    function markNotificationAsRead(notifId) {
      const notif = appState.notifications.find(n => n.id === notifId);
      if (notif) {
        notif.read = true;
        loadNotifications();
      }
    }

    // Função para obter inscrições do usuário atual
    function getUserEventRegistrations() {
      return appState.registrations || [];
    }

    // Função para remover inscrição do usuário
    function removeUserEventRegistration(eventId) {
      appState.registrations = appState.registrations.filter(id => id !== eventId);
      return true;
    }

    // Função para calcular dias até o evento
    function calculateDaysUntilEvent(eventDate) {
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      
      const event = new Date(eventDate);
      event.setHours(0, 0, 0, 0);
      
      const diffTime = event - today;
      const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
      
      return diffDays > 0 ? diffDays : 0;
    }

    // Função para formatar data
    function formatEventDate(dateString) {
      const date = new Date(dateString);
      return date.toLocaleDateString('pt-BR', {
        day: '2-digit',
        month: 'short',
        year: 'numeric'
      }).toUpperCase();
    }

    // Função para carregar eventos inscritos
    function loadUpcomingEvents() {
      const container = document.getElementById('upcomingEventsContainer');
      
      if (!container) return;

      const userRegistrations = getUserEventRegistrations();
      const userLevel = appState.currentMember.memberLevel;
      
      // Filtrar eventos futuros em que o usuário está inscrito
      const today = new Date();
      const upcomingEvents = eventsData.filter(event => {
        const eventDate = new Date(event.date);
        return eventDate >= today && userRegistrations.includes(event.id);
      });

      if (upcomingEvents.length === 0) {
        container.innerHTML = `
          <div style="text-align: center; padding: 40px; color: #888;">
            <p>Você ainda não está inscrito em nenhum evento próximo.</p>
            <p style="margin-top: 16px;">
              <a href="index.html" style="color: #c66970; text-decoration: underline;">
                Explore nossa agenda de eventos
              </a>
            </p>
          </div>
        `;
        return;
      }

      container.innerHTML = '';
      
      upcomingEvents.forEach(event => {
        const daysUntil = calculateDaysUntilEvent(event.date);
        const formattedDate = formatEventDate(event.date);
        const canAccess = canAccessEvent(userLevel, event.minLevel);
        
        const eventCard = document.createElement('div');
        eventCard.className = `event-card${!canAccess ? ' restricted' : ''}`;
        
        // Conteúdo base do card
        let cardContent = `
          <div class="event-type-badge">${event.type.replace('_', ' ')}</div>
          ${daysUntil <= 7 ? `<div class="event-countdown">${daysUntil} dias</div>` : ''}
          <div class="event-info">
            <div class="event-title">${event.title}</div>
            <div class="event-date">${formattedDate}</div>
            <div class="event-location">${event.location}</div>
          </div>
        `;
        
        // Adicionar ações ou restrições
        if (canAccess) {
          cardContent += `
            <div class="event-actions">
              <button class="btn-view-more" onclick="viewEventDetails('event-${event.id}')">Ver Mais</button>
              <button class="btn-members" onclick="viewEventMembers('event-${event.id}')">Membros Inscritos</button>
              <button class="btn-cancel-event" onclick="cancelEventRegistration(${event.id}, this)">Cancelar Inscrição</button>
            </div>
          `;
        } else {
          cardContent += `
            <div class="event-lock">
              🔒
              <div class="event-tooltip">
                Exclusivo para membros ${getLevelDisplayName(event.minLevel)} ou superior
              </div>
            </div>
            <div class="event-actions">
              <button class="btn-view-more" onclick="viewEventDetails('event-${event.id}')">Ver Detalhes</button>
              <button class="btn-cancel-event" disabled>Evento Restrito</button>
            </div>
          `;
        }
        
        eventCard.innerHTML = cardContent;
        container.appendChild(eventCard);
      });
    }

    // Função para cancelar inscrição em evento
    function cancelEventRegistration(eventId, button) {
      const eventCard = button.closest('.event-card');
      const eventTitle = eventCard.querySelector('.event-title').textContent;
      
      if (confirm(`Tem certeza que deseja cancelar sua inscrição no evento "${eventTitle}"?`)) {
        removeUserEventRegistration(eventId);
        eventCard.style.opacity = '0.5';
        button.textContent = 'Cancelado';
        button.style.background = '#6c757d';
        button.disabled = true;
        
        // Adicionar notificação
        appState.notifications.unshift({
          id: Date.now(),
          type: 'event',
          icon: '❌',
          content: `Inscrição cancelada para: ${eventTitle}`,
          time: 'Agora',
          priority: 'info',
          read: false
        });
        
        loadNotifications();
        
        setTimeout(() => {
          loadUpcomingEvents(); // Recarregar a lista
        }, 1000);
      }
    }

    // Funções para os modais e outras interações
    function toggleEdit() {
      const form = document.getElementById('editForm');
      form.style.display = form.style.display === 'none' ? 'block' : 'none';
    }
    
    function toggleVisibility(toggle) {
      toggle.classList.toggle('active');
      appState.profileVisible = toggle.classList.contains('active');
    }
    
    function toggleNotifications() {
      const dropdown = document.getElementById('notificationsDropdown');
      dropdown.classList.toggle('active');
      
      // Fechar ao clicar fora
      setTimeout(() => {
        document.addEventListener('click', function closeDropdown(event) {
          if (!event.target.closest('.user-menu')) {
            dropdown.classList.remove('active');
            document.removeEventListener('click', closeDropdown);
          }
        });
      }, 100);
    }
    
    function saveProfile() {
      alert('Perfil salvo com sucesso!');
      toggleEdit();
    }
    
    function viewConsumption() {
      alert('Funcionalidade de consumo será implementada em breve!');
    }
    
    function viewEventCalendar() {
      window.location.href = 'index.html#eventos';
    }
    
    function viewEventDetails(eventId) {
      const event = eventsData.find(e => `event-${e.id}` === eventId);
      
      if (!event) return;
      
      const modal = document.getElementById('eventModal');
      const title = document.getElementById('eventModalTitle');
      const content = document.getElementById('eventModalContent');
      
      const userLevel = appState.currentMember.memberLevel;
      const canAccess = canAccessEvent(userLevel, event.minLevel);
      
      title.textContent = event.title;
      
      let detailsContent = `
        <h3>📅 Data e Horário</h3>
        <p><strong>${formatEventDate(event.date)}</strong><br>20:00 - 23:30</p>
        
        <h3>📍 Local</h3>
        <p><strong>${event.location}</strong></p>
        
        <h3>🏷️ Tipo de Evento</h3>
        <p><strong>${event.type.replace('_', ' ')}</strong></p>
        
        <h3>🔑 Nível Mínimo</h3>
        <p><strong>${getLevelDisplayName(event.minLevel)}</strong></p>
      `;
      
      if (!canAccess) {
        detailsContent += `
          <div style="background: rgba(193,40,57,0.1); border: 1px solid #c12839; padding: 16px; border-radius: 8px; margin-top: 20px;">
            <p style="color: #ff6666; font-weight: bold;">
              🔒 Este evento é exclusivo para membros ${getLevelDisplayName(event.minLevel)} ou superior.
            </p>
            <p style="color: #cccccc; margin-top: 8px;">
              Você precisa subir de nível para participar deste evento.
            </p>
          </div>
        `;
      } else {
        detailsContent += `
          <h3>ℹ️ Sobre o Evento</h3>
          <p>${event.description}</p>
          
          <h3>👔 Dress Code</h3>
          <p>Smart Casual</p>
        `;
      }
      
      content.innerHTML = detailsContent;
      modal.classList.add('active');
    }
    
    function viewEventMembers(eventId) {
      const eventMembersMap = {
        'event-1': {
          title: 'Finais NBA com a Hennessy - Membros Inscritos',
          members: [
            { id: 11, name: 'Carlos Eduardo', role: 'CTO da TechStartup', avatar: 'https://i.pravatar.cc/150?img=11' },
            { id: 47, name: 'Fernanda Silva', role: 'VP Technology da BigCorp', avatar: 'https://i.pravatar.cc/150?img=47' },
            { id: 68, name: 'Ricardo Santos', role: 'Founder da InnovaTech', avatar: 'https://i.pravatar.cc/150?img=68' },
            { id: 23, name: 'Patricia Lima', role: 'Head of Engineering da ScaleTech', avatar: 'https://i.pravatar.cc/150?img=23' }
          ]
        },
        'event-2': {
          title: 'Jantar Dia dos Namorados - Casais Inscritos',
          members: [
            { id: 15, name: 'João & Maria Silva', role: 'CEO Couple', avatar: 'https://i.pravatar.cc/150?img=15' },
            { id: 42, name: 'Pedro & Ana Santos', role: 'Founders DuoCorp', avatar: 'https://i.pravatar.cc/150?img=42' }
          ]
        },
        'investment-workshop': {
          title: 'Workshop de Investimentos - Membros que Participaram',
          members: [
            { id: 32, name: 'António Silva', role: 'Head of Latin America', avatar: 'https://i.pravatar.cc/150?img=32' },
            { id: 12, name: 'Rafael Costa', role: 'Investment Manager', avatar: 'https://i.pravatar.cc/150?img=12' },
            { id: 45, name: 'Beatriz Almeida', role: 'Portfolio Director', avatar: 'https://i.pravatar.cc/150?img=45' },
            { id: 67, name: 'Gustavo Pereira', role: 'Wealth Manager', avatar: 'https://i.pravatar.cc/150?img=67' },
            { id: 29, name: 'Larissa Martins', role: 'Financial Advisor', avatar: 'https://i.pravatar.cc/150?img=29' },
            { id: 54, name: 'Daniel Rodrigues', role: 'Investment Analyst', avatar: 'https://i.pravatar.cc/150?img=54' }
          ]
        },
        'networking-breakfast': {
          title: 'Networking Breakfast - Membros que Participaram',
          members: [
            { id: 18, name: 'Eduardo Silva', role: 'Business Development', avatar: 'https://i.pravatar.cc/150?img=18' },
            { id: 41, name: 'Juliana Costa', role: 'Sales Director', avatar: 'https://i.pravatar.cc/150?img=41' },
            { id: 72, name: 'Felipe Santos', role: 'Marketing Head', avatar: 'https://i.pravatar.cc/150?img=72' },
            { id: 33, name: 'Mariana Lima', role: 'Operations Manager', avatar: 'https://i.pravatar.cc/150?img=33' }
          ]
        },
        'launch-cocktail': {
          title: 'Coquetel de Lançamento - Membros que Participaram',
          members: [
            { id: 16, name: 'André Oliveira', role: 'Founder & CEO', avatar: 'https://i.pravatar.cc/150?img=16' },
            { id: 48, name: 'Carla Mendes', role: 'Strategic Partnerships', avatar: 'https://i.pravatar.cc/150?img=48' },
            { id: 71, name: 'Bruno Garcia', role: 'Innovation Director', avatar: 'https://i.pravatar.cc/150?img=71' },
            { id: 26, name: 'Isabela Ferreira', role: 'Brand Manager', avatar: 'https://i.pravatar.cc/150?img=26' }
          ]
        }
      };
      
      const modal = document.getElementById('membersModal');
      const title = document.getElementById('membersModalTitle');
      const content = document.getElementById('membersModalContent');
      
      if (eventMembersMap[eventId]) {
        const memberCount = eventMembersMap[eventId].members.length;
        title.innerHTML = `${eventMembersMap[eventId].title} <span style="font-size: 14px; color: #888; font-weight: normal;">(${memberCount} participantes)</span>`;
        
        if (memberCount === 0) {
          content.innerHTML = `
            <div style="text-align: center; padding: 40px; color: #888;">
              <p>Ainda não há membros confirmados para este evento.</p>
            </div>
          `;
        } else {
        
        const membersHTML = eventMembersMap[eventId].members.map(member => {
          // Verificar se é o próprio usuário
          const isSelf = member.id === appState.currentMember.id;
          
          // Verificar se já existe solicitação enviada
          const contactSent = appState.contactRequests.some(req => 
            req.toId === member.id && req.fromId === appState.currentMember.id
          );
          
          return `
            <div class="member-item">
              <div class="member-avatar">
                <img src="${member.avatar}" alt="${member.name}" />
              </div>
              <div class="member-info">
                <div class="member-name">${member.name}${isSelf ? ' (Você)' : ''}</div>
                <div class="member-role">${member.role}</div>
              </div>
              ${isSelf ? 
                '<span style="font-size: 12px; color: #888; font-style: italic;">Seu perfil</span>' :
                `<button class="member-contact-btn ${contactSent ? 'sent' : ''}" 
                        onclick="requestMemberContact(${member.id}, '${member.name}', this)"
                        ${contactSent ? 'disabled' : ''}>
                  ${contactSent ? '✓ Solicitado' : 'Solicitar Contato'}
                </button>`
              }
            </div>
          `;
        }).join('');
        
        content.innerHTML = membersHTML;
        
        // Adicionar contador de solicitações
        const sentCount = eventMembersMap[eventId].members.filter(member => 
          appState.contactRequests.some(req => 
            req.toId === member.id && req.fromId === appState.currentMember.id
          )
        ).length;
        
        if (sentCount > 0) {
          const footer = document.createElement('div');
          footer.style.cssText = `
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            text-align: center;
            font-size: 13px;
            color: #7fada3;
          `;
          footer.innerHTML = `✓ ${sentCount} solicitação${sentCount > 1 ? 'ões' : ''} de contato enviada${sentCount > 1 ? 's' : ''}`;
          content.appendChild(footer);
        }
        }
        
        modal.classList.add('active');
      }
    }
    
    // Nova função para solicitar contato com membro
    let pendingContactRequest = null;
    
    function requestMemberContact(memberId, memberName, button) {
      if (button.disabled) return;
      
      // Guardar informações para confirmação
      pendingContactRequest = {
        memberId: memberId,
        memberName: memberName,
        button: button
      };
      
      // Abrir modal de confirmação
      document.getElementById('contactTargetName').textContent = memberName;
      document.getElementById('contactConfirmModal').classList.add('active');
    }
    
    function confirmContactRequest() {
      if (!pendingContactRequest) return;
      
      const { memberId, memberName, button } = pendingContactRequest;
      
      // Adicionar à lista de solicitações
      appState.contactRequests.push({
        fromId: appState.currentMember.id,
        toId: memberId,
        toName: memberName,
        timestamp: new Date().toISOString(),
        status: 'pendente'
      });
      
      // Atualizar botão
      button.classList.add('sent');
      button.textContent = '✓ Solicitado';
      button.disabled = true;
      
      // Adicionar notificação
      appState.notifications.unshift({
        id: Date.now(),
        type: 'networking',
        icon: '🤝',
        content: `Solicitação de contato enviada para ${memberName}`,
        time: 'Agora',
        priority: 'info',
        read: false
      });
      
      loadNotifications();
      
      // Fechar modal de confirmação
      closeModal('contactConfirmModal');
      
      // Feedback visual e mensagem de sucesso
      const originalBg = button.style.background;
      button.style.background = 'rgba(127, 173, 163, 0.3)';
      
      // Criar toast de sucesso
      const toast = document.createElement('div');
      toast.style.cssText = `
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(127, 173, 163, 0.9);
        color: #000;
        padding: 16px 24px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: 600;
        box-shadow: 0 4px 20px rgba(127, 173, 163, 0.4);
        z-index: 4000;
        animation: slideUpToast 0.3s ease-out;
      `;
      toast.innerHTML = '✓ Solicitação enviada com sucesso!';
      document.body.appendChild(toast);
      
      setTimeout(() => {
        button.style.background = originalBg;
        toast.style.animation = 'fadeOut 0.3s ease-out';
        setTimeout(() => toast.remove(), 300);
      }, 2000);
      
      // Limpar referência
      pendingContactRequest = null;
    }
    
    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('active');
    }
    
    // Fechar modais ao clicar fora
    document.addEventListener('click', function(event) {
      if (event.target.classList.contains('modal-overlay')) {
        event.target.classList.remove('active');
      }
    });

    // Logout
    document.getElementById('btnLogout').addEventListener('click', function(e) {
      e.preventDefault();
      if (confirm('Deseja sair da sua conta?')) {
        window.location.href = 'login.html';
      }
    });

    // Carregar dados ao iniciar a página
    document.addEventListener('DOMContentLoaded', function() {
      loadNotifications();
      loadUpcomingEvents();
    });
  </script>
</body>
</html>
